# 后端代码规范

## 参考

> 阿里巴巴 Java 开发手册

## 编程规约

### 命名规则

> - 类名使用 UpperCamelCase风格，必须遵从驼峰形式，但以下情形例外：DO / BO / DTO / VO / AO
> - 方法名、参数名、成员变量、局部变量都统一使用 lowerCamelCase风格，必须遵从 驼峰形式。
> - 于 Service和 DAO类，基于 SOA的理念，暴露出来的服务一定是接口，内部 的实现类用Impl的后缀与接口区别。
> - 各层命名规约： 
>   - Service/DAO层方法命名规约 
>     - 获取单个对象的方法用get做前缀。 
>     - 获取多个对象的方法用list做前缀。
>     - 获取统计值的方法用count做前缀。 
>     - 插入的方法用save/insert做前缀。  
>     - 删除的方法用remove/delete做前缀。
>     - 修改的方法用update做前缀。
>   - 领域模型命名规约 
>     - 数据对象：xxxDO，xxx即为数据表名。 
>     - 数据传输对象：xxxDTO，xxx为业务领域相关的名称。 

### 集合处理

> - 使用Set、Map等集合存储对象时，要重写equals和hashCode
> - 不要在 foreach循环里进行元素的 remove/add操作。remove元素请使用 Iterator方式，如果并发操作，需要对Iterator对象加锁
> - 使用 entrySet遍历Map类集合 KV，而不是 keySet方式进行遍历

### 并发控制

> - 线程池不允许使用 Executors去创建，而是通过 ThreadPoolExecutor的方式
> - SimpleDateFormat 是线程不安全的类，一般不要定义为 static变量，如果定义为 static，必须加锁，或者使用DateUtils工具类

### 注释

> - 类、类属性、类方法的注释必须使用 Javadoc规范，使用`/**内容**/`格式，不得使用` // xxx方式`
> - 所有的抽象方法（包括接口中的方法）必须要用 Javadoc 注释、除了返回值、参数、 异常说明外，还必须指出该方法做什么事情，实现什么功能。
> - 代码修改的同时，注释也要进行相应的修改，尤其是参数、返回值、异常、核心逻辑等的修改。

## 异常日志

> - 日志要使用slf4j输出，不要使用`System.out.println`等方法输出
> - 捕获异常是为了处理它，不要捕获了却什么都不处理而抛弃之

## 其他

> - Controller尽量不要用`RequestMapping`，而使用对应方法的mapping，如果要多种方法的请求，也要指定可以支持的方法，而不是全接受
> - 建议所有人在idea中装阿里巴巴的代码规范插件

